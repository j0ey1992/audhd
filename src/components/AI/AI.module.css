.chat-input {
    @apply bg-white/90 border border-primary/20 rounded-xl px-4 py-3 text-gray-700 
      focus:outline-none focus:border-primary/40 transition-all duration-300 w-full;
  }
  
  .chat-input:disabled {
    @apply opacity-50 cursor-not-allowed;
  }
  
  .chat-button {
    @apply bg-gradient-to-r from-primary to-secondary text-white rounded-xl font-semibold 
      transition-all duration-300 hover:-translate-y-1 
      disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap px-4 py-2;
  }
  
  .chat-messages {
    @apply bg-white/90 rounded-xl p-6 border border-primary/20 overflow-y-auto transition-all duration-300;
    height: calc(100vh - 400px);
    min-height: 400px;
  }
  
  /* Personality Selector */
  .personality-selector {
    @apply flex flex-wrap justify-center gap-2 my-4;
  }
  
  .personality-button {
    @apply px-4 py-2 rounded-xl bg-white/90 border border-primary/20 transition-all duration-300 hover:bg-primary/5;
  }
  
  .personality-button.active {
    @apply bg-primary/10 border-primary font-semibold;
  }
  
  /* Mini ASCII Chart in message bubble */
  .mini-chart {
    @apply mt-4 p-4 bg-white/50 rounded-lg font-mono text-sm overflow-x-auto;
    line-height: 1.2;
  }
  
  /* Fullscreen container */
  .fullscreen-section {
    @apply fixed inset-0 z-50 bg-white overflow-hidden;
    height: 100vh;
    width: 100vw;
  }
  
  .chat-fullscreen {
    @apply fixed inset-0 z-50 bg-white p-0;
    height: 100vh;
  }
  .chat-fullscreen .chat-messages {
    @apply rounded-none border-x-0;
    height: calc(100vh - 180px);
  }
  
  .chat-container {
    @apply relative transition-all duration-300;
    max-width: 1200px;
    margin: 0 auto;
  }
  
  .chat-container.fullscreen {
    @apply max-w-none m-0 h-screen;
  }
  
  /* CHART WINDOW (reduced size) */
  .chart-window {
    @apply fixed z-50 bg-white rounded-xl shadow-2xl border border-primary/20 transition-transform duration-300;
    width: 400px; /* UPDATED SIZING */
    height: 300px; /* UPDATED SIZING */
    top: 80px;
    right: 20px;
    resize: both;
    overflow: auto;
  }
  
  .chart-window-header {
    @apply flex justify-between items-center px-4 py-2 bg-primary/5 rounded-t-xl cursor-move;
  }
  
  .chart-window-title {
    @apply font-semibold text-primary;
  }
  
  .chart-window-controls {
    @apply flex gap-2;
  }
  
  .chart-window-button {
    @apply p-1.5 rounded-lg hover:bg-primary/10 transition-colors;
  }
  
  .chart-container {
    @apply bg-white rounded-xl p-4 shadow-lg;
    height: calc(100% - 40px); /* subtract header */
  }
  
  .chart-container.windowed {
    @apply shadow-none rounded-none p-2;
    height: 100%;
  }
  
  .chart-container canvas {
    @apply rounded-lg;
  }
  
  .input-group {
    @apply flex flex-col md:flex-row gap-2 md:gap-4;
  }
  
  .message-input-container {
    @apply relative flex items-center gap-2 mt-4;
  }
  
  /* Quick actions under bot messages */
  .quick-actions {
    @apply flex flex-wrap gap-2 mt-4;
  }
  
  .quick-action-button {
    @apply bg-primary/10 hover:bg-primary/20 text-primary px-3 py-1.5 rounded-lg text-sm transition-all duration-300 flex items-center gap-1;
  }
  
  /* Loading dots for "thinking" bot messages */
  .loading-dots:after {
    content: '...';
    animation: dots 1.5s steps(5, end) infinite;
  }
  
  @keyframes dots {
    0%, 20% { content: '.'; }
    40% { content: '..'; }
    60% { content: '...'; }
    80%, 100% { content: ''; }
  }
  
  /* Fade in message text */
  .animate-fade-in {
    animation: fadeIn 0.5s ease-in-out;
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  /* Subtle grid flow background on hero */
  .animate-grid-flow {
    animation: gridFlow 20s linear infinite;
  }
  
  @keyframes gridFlow {
    0% { background-position: 0 0; }
    100% { background-position: 24px 24px; }
  }
  
  /* Slow pulse for radial highlights */
  .animate-pulse-slow {
    animation: pulse 4s ease-in-out infinite;
  }
  .animate-pulse-slow-delay {
    animation: pulse 4s ease-in-out infinite;
    animation-delay: 2s;
  }
  @keyframes pulse {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 0.8; }
  }
  
  /* Floating emoji animation */
  .animate-float {
    animation: float 3s ease-in-out infinite;
  }
  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }
  
  /* Mobile / small screen adjustments */
  @media (max-width: 768px) {
    .chat-container:not(.fullscreen) {
      @apply px-2;
    }
  
    .chat-messages {
      @apply p-3;
      height: calc(100vh - 300px);
    }
  
    .chat-button {
      @apply text-sm px-3 py-2;
    }
  
    /* Chart as bottom-sheet, reduce further for smaller screens */
    .chart-window {
      @apply fixed left-0 w-full rounded-t-xl;
      bottom: 0;
      top: auto;
      resize: none;
      cursor: default; /* No dragging in mobile to replicate bottom sheet */
      height: 40vh; /* smaller so chat box is visible */
      transform: translate(0, 0) !important;
    }
  
    .chart-container {
      @apply rounded-none p-2;
      height: calc(100% - 40px); 
    }
  
    .quick-actions {
      @apply flex-nowrap overflow-x-auto pb-2;
      -webkit-overflow-scrolling: touch;
    }
  
    .chat-fullscreen .chat-messages {
      height: calc(100vh - 160px);
    }
  
    .personality-selector {
      @apply overflow-x-auto py-2;
      -webkit-overflow-scrolling: touch;
    }
  
    .personality-button {
      @apply whitespace-nowrap;
    }
  
    .mini-chart {
      @apply text-xs;
      max-width: 100%;
    }
  }
  